{"ast":null,"code":"import api from './api';\nexport const authService = {\n  // Login\n  login: async credentials => {\n    const response = await api.post('/auth/login', credentials);\n    if (response.data.success && response.data.data) {\n      // Guardar token en localStorage\n      localStorage.setItem('token', response.data.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.data.user));\n      return response.data.data;\n    }\n    throw new Error(response.data.message || 'Error en el login');\n  },\n  // Register\n  register: async data => {\n    const response = await api.post('/auth/register', data);\n    if (response.data.success && response.data.data) {\n      // Guardar token en localStorage\n      localStorage.setItem('token', response.data.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.data.user));\n      return response.data.data;\n    }\n    throw new Error(response.data.message || 'Error en el registro');\n  },\n  // Get current user\n  getCurrentUser: async () => {\n    const response = await api.get('/auth/me');\n    return response.data.data;\n  },\n  // Logout\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n  // Check if user is authenticated\n  isAuthenticated: () => {\n    return !!localStorage.getItem('token');\n  },\n  // Get stored user\n  getStoredUser: () => {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  },\n  // Get token\n  getToken: () => {\n    return localStorage.getItem('token');\n  }\n};","map":{"version":3,"names":["api","authService","login","credentials","response","post","data","success","localStorage","setItem","token","JSON","stringify","user","Error","message","register","getCurrentUser","get","logout","removeItem","isAuthenticated","getItem","getStoredUser","userStr","parse","getToken"],"sources":["/home/kali/Documents/prueba tecnica/frontend/src/services/authService.ts"],"sourcesContent":["import api from './api';\n\nexport interface LoginRequest {\n  username: string;\n  password: string;\n}\n\nexport interface RegisterRequest {\n  username: string;\n  email: string;\n  password: string;\n}\n\nexport interface AuthResponse {\n  token: string;\n  user: {\n    id: string;\n    username: string;\n    email: string;\n  };\n}\n\nexport interface ApiResponse<T> {\n  success: boolean;\n  message: string;\n  data?: T;\n}\n\nexport const authService = {\n  // Login\n  login: async (credentials: LoginRequest): Promise<AuthResponse> => {\n    const response = await api.post<ApiResponse<AuthResponse>>('/auth/login', credentials);\n\n    if (response.data.success && response.data.data) {\n      // Guardar token en localStorage\n      localStorage.setItem('token', response.data.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.data.user));\n      return response.data.data;\n    }\n\n    throw new Error(response.data.message || 'Error en el login');\n  },\n\n  // Register\n  register: async (data: RegisterRequest): Promise<AuthResponse> => {\n    const response = await api.post<ApiResponse<AuthResponse>>('/auth/register', data);\n\n    if (response.data.success && response.data.data) {\n      // Guardar token en localStorage\n      localStorage.setItem('token', response.data.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.data.user));\n      return response.data.data;\n    }\n\n    throw new Error(response.data.message || 'Error en el registro');\n  },\n\n  // Get current user\n  getCurrentUser: async () => {\n    const response = await api.get<ApiResponse<{ id: string; username: string; email: string }>>('/auth/me');\n    return response.data.data;\n  },\n\n  // Logout\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  // Check if user is authenticated\n  isAuthenticated: (): boolean => {\n    return !!localStorage.getItem('token');\n  },\n\n  // Get stored user\n  getStoredUser: () => {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  },\n\n  // Get token\n  getToken: (): string | null => {\n    return localStorage.getItem('token');\n  },\n};\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AA4BvB,OAAO,MAAMC,WAAW,GAAG;EACzB;EACAC,KAAK,EAAE,MAAOC,WAAyB,IAA4B;IACjE,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAA4B,aAAa,EAAEF,WAAW,CAAC;IAEtF,IAAIC,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAIH,QAAQ,CAACE,IAAI,CAACA,IAAI,EAAE;MAC/C;MACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACI,KAAK,CAAC;MACvDF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACO,IAAI,CAAC,CAAC;MACrE,OAAOT,QAAQ,CAACE,IAAI,CAACA,IAAI;IAC3B;IAEA,MAAM,IAAIQ,KAAK,CAACV,QAAQ,CAACE,IAAI,CAACS,OAAO,IAAI,mBAAmB,CAAC;EAC/D,CAAC;EAED;EACAC,QAAQ,EAAE,MAAOV,IAAqB,IAA4B;IAChE,MAAMF,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAA4B,gBAAgB,EAAEC,IAAI,CAAC;IAElF,IAAIF,QAAQ,CAACE,IAAI,CAACC,OAAO,IAAIH,QAAQ,CAACE,IAAI,CAACA,IAAI,EAAE;MAC/C;MACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACI,KAAK,CAAC;MACvDF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACO,IAAI,CAAC,CAAC;MACrE,OAAOT,QAAQ,CAACE,IAAI,CAACA,IAAI;IAC3B;IAEA,MAAM,IAAIQ,KAAK,CAACV,QAAQ,CAACE,IAAI,CAACS,OAAO,IAAI,sBAAsB,CAAC;EAClE,CAAC;EAED;EACAE,cAAc,EAAE,MAAAA,CAAA,KAAY;IAC1B,MAAMb,QAAQ,GAAG,MAAMJ,GAAG,CAACkB,GAAG,CAA+D,UAAU,CAAC;IACxG,OAAOd,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAED;EACAa,MAAM,EAAEA,CAAA,KAAM;IACZX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;IAChCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;EACjC,CAAC;EAED;EACAC,eAAe,EAAEA,CAAA,KAAe;IAC9B,OAAO,CAAC,CAACb,YAAY,CAACc,OAAO,CAAC,OAAO,CAAC;EACxC,CAAC;EAED;EACAC,aAAa,EAAEA,CAAA,KAAM;IACnB,MAAMC,OAAO,GAAGhB,YAAY,CAACc,OAAO,CAAC,MAAM,CAAC;IAC5C,OAAOE,OAAO,GAAGb,IAAI,CAACc,KAAK,CAACD,OAAO,CAAC,GAAG,IAAI;EAC7C,CAAC;EAED;EACAE,QAAQ,EAAEA,CAAA,KAAqB;IAC7B,OAAOlB,YAAY,CAACc,OAAO,CAAC,OAAO,CAAC;EACtC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}