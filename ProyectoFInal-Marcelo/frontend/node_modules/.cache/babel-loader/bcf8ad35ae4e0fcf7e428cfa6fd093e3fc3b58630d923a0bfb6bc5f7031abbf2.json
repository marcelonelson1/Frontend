{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/prueba tecnica/frontend/src/pages/NotesPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNotes, useCreateNote, useUpdateNote, useDeleteNote, useArchiveNote } from '../hooks/useNotes';\nimport Header from '../components/common/Header';\nimport NotesList from '../components/notes/NotesList';\nimport NotesFilters from '../components/notes/NoteFilters';\nimport Modal from '../components/common/Modal';\nimport NoteForm from '../components/notes/NoteForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotesPage = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('active');\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingNote, setEditingNote] = useState(null);\n  const [filters, setFilters] = useState({\n    is_archived: false,\n    limit: 50,\n    offset: 0\n  });\n\n  // Update filters when tab changes\n  React.useEffect(() => {\n    setFilters(prev => ({\n      ...prev,\n      is_archived: activeTab === 'archived',\n      offset: 0\n    }));\n  }, [activeTab]);\n\n  // Queries and mutations\n  const {\n    data: notesResponse,\n    isLoading\n  } = useNotes(filters);\n  const createNoteMutation = useCreateNote();\n  const updateNoteMutation = useUpdateNote();\n  const deleteNoteMutation = useDeleteNote();\n  const archiveNoteMutation = useArchiveNote();\n  const notes = (notesResponse === null || notesResponse === void 0 ? void 0 : notesResponse.data) || [];\n\n  // Handlers\n  const handleCreateNote = async data => {\n    try {\n      await createNoteMutation.mutateAsync(data);\n      setIsCreateModalOpen(false);\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n  const handleUpdateNote = async data => {\n    if (!editingNote) return;\n    try {\n      await updateNoteMutation.mutateAsync({\n        id: editingNote.id,\n        data\n      });\n      setEditingNote(null);\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n  const handleDeleteNote = async note => {\n    if (window.confirm('Are you sure you want to delete this note? This action cannot be undone.')) {\n      try {\n        await deleteNoteMutation.mutateAsync(note.id);\n      } catch (error) {\n        // Error is handled by the mutation\n      }\n    }\n  };\n  const handleArchiveNote = async (note, isArchived) => {\n    try {\n      await archiveNoteMutation.mutateAsync({\n        id: note.id,\n        isArchived\n      });\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n  };\n  const handleFiltersChange = newFilters => {\n    setFilters(prev => ({\n      ...newFilters,\n      is_archived: prev.is_archived // Keep the current tab state\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      activeTab: activeTab,\n      onTabChange: handleTabChange,\n      onNewNote: () => setIsCreateModalOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(NotesFilters, {\n        filters: filters,\n        onFiltersChange: handleFiltersChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotesList, {\n        notes: notes,\n        isLoading: isLoading,\n        isArchived: activeTab === 'archived',\n        onEditNote: setEditingNote,\n        onDeleteNote: handleDeleteNote,\n        onArchiveNote: handleArchiveNote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), !isLoading && notesResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 text-center text-sm text-gray-500\",\n        children: [\"Showing \", notes.length, \" of \", notesResponse.meta.total, \" notes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isCreateModalOpen,\n      onClose: () => setIsCreateModalOpen(false),\n      title: \"Create New Note\",\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(NoteForm, {\n        onSubmit: handleCreateNote,\n        onCancel: () => setIsCreateModalOpen(false),\n        isLoading: createNoteMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: !!editingNote,\n      onClose: () => setEditingNote(null),\n      title: \"Edit Note\",\n      maxWidth: \"lg\",\n      children: editingNote && /*#__PURE__*/_jsxDEV(NoteForm, {\n        note: editingNote,\n        onSubmit: handleUpdateNote,\n        onCancel: () => setEditingNote(null),\n        isLoading: updateNoteMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(NotesPage, \"eG4N0nxTem0A442EaCx/QrixB3Q=\", false, function () {\n  return [useNotes, useCreateNote, useUpdateNote, useDeleteNote, useArchiveNote];\n});\n_c = NotesPage;\nexport default NotesPage;\nvar _c;\n$RefreshReg$(_c, \"NotesPage\");","map":{"version":3,"names":["React","useState","useNotes","useCreateNote","useUpdateNote","useDeleteNote","useArchiveNote","Header","NotesList","NotesFilters","Modal","NoteForm","jsxDEV","_jsxDEV","NotesPage","_s","activeTab","setActiveTab","isCreateModalOpen","setIsCreateModalOpen","editingNote","setEditingNote","filters","setFilters","is_archived","limit","offset","useEffect","prev","data","notesResponse","isLoading","createNoteMutation","updateNoteMutation","deleteNoteMutation","archiveNoteMutation","notes","handleCreateNote","mutateAsync","error","handleUpdateNote","id","handleDeleteNote","note","window","confirm","handleArchiveNote","isArchived","handleTabChange","tab","handleFiltersChange","newFilters","className","children","onTabChange","onNewNote","fileName","_jsxFileName","lineNumber","columnNumber","onFiltersChange","onEditNote","onDeleteNote","onArchiveNote","length","meta","total","isOpen","onClose","title","maxWidth","onSubmit","onCancel","_c","$RefreshReg$"],"sources":["/home/kali/Documents/prueba tecnica/frontend/src/pages/NotesPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Note, NoteFilters } from '../types/note.types';\nimport { useNotes, useCreateNote, useUpdateNote, useDeleteNote, useArchiveNote } from '../hooks/useNotes';\nimport Header from '../components/common/Header';\nimport NotesList from '../components/notes/NotesList';\nimport NotesFilters from '../components/notes/NoteFilters';\nimport Modal from '../components/common/Modal';\nimport NoteForm from '../components/notes/NoteForm';\nimport toast from 'react-hot-toast';\n\ntype TabType = 'active' | 'archived';\n\nconst NotesPage: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<TabType>('active');\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingNote, setEditingNote] = useState<Note | null>(null);\n  const [filters, setFilters] = useState<NoteFilters>({\n    is_archived: false,\n    limit: 50,\n    offset: 0,\n  });\n\n  // Update filters when tab changes\n  React.useEffect(() => {\n    setFilters(prev => ({\n      ...prev,\n      is_archived: activeTab === 'archived',\n      offset: 0,\n    }));\n  }, [activeTab]);\n\n  // Queries and mutations\n  const { data: notesResponse, isLoading } = useNotes(filters);\n  const createNoteMutation = useCreateNote();\n  const updateNoteMutation = useUpdateNote();\n  const deleteNoteMutation = useDeleteNote();\n  const archiveNoteMutation = useArchiveNote();\n\n  const notes = notesResponse?.data || [];\n\n  // Handlers\n  const handleCreateNote = async (data: any) => {\n    try {\n      await createNoteMutation.mutateAsync(data);\n      setIsCreateModalOpen(false);\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n\n  const handleUpdateNote = async (data: any) => {\n    if (!editingNote) return;\n    \n    try {\n      await updateNoteMutation.mutateAsync({\n        id: editingNote.id,\n        data,\n      });\n      setEditingNote(null);\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n\n  const handleDeleteNote = async (note: Note) => {\n    if (window.confirm('Are you sure you want to delete this note? This action cannot be undone.')) {\n      try {\n        await deleteNoteMutation.mutateAsync(note.id);\n      } catch (error) {\n        // Error is handled by the mutation\n      }\n    }\n  };\n\n  const handleArchiveNote = async (note: Note, isArchived: boolean) => {\n    try {\n      await archiveNoteMutation.mutateAsync({\n        id: note.id,\n        isArchived,\n      });\n    } catch (error) {\n      // Error is handled by the mutation\n    }\n  };\n\n  const handleTabChange = (tab: TabType) => {\n    setActiveTab(tab);\n  };\n\n  const handleFiltersChange = (newFilters: NoteFilters) => {\n    setFilters(prev => ({\n      ...newFilters,\n      is_archived: prev.is_archived, // Keep the current tab state\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <Header\n        activeTab={activeTab}\n        onTabChange={handleTabChange}\n        onNewNote={() => setIsCreateModalOpen(true)}\n      />\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Filters */}\n        <NotesFilters\n          filters={filters}\n          onFiltersChange={handleFiltersChange}\n        />\n\n        {/* Notes Grid */}\n        <NotesList\n          notes={notes}\n          isLoading={isLoading}\n          isArchived={activeTab === 'archived'}\n          onEditNote={setEditingNote}\n          onDeleteNote={handleDeleteNote}\n          onArchiveNote={handleArchiveNote}\n        />\n\n        {/* Results info */}\n        {!isLoading && notesResponse && (\n          <div className=\"mt-8 text-center text-sm text-gray-500\">\n            Showing {notes.length} of {notesResponse.meta.total} notes\n          </div>\n        )}\n      </main>\n\n      {/* Create Note Modal */}\n      <Modal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n        title=\"Create New Note\"\n        maxWidth=\"lg\"\n      >\n        <NoteForm\n          onSubmit={handleCreateNote}\n          onCancel={() => setIsCreateModalOpen(false)}\n          isLoading={createNoteMutation.isLoading}\n        />\n      </Modal>\n\n      {/* Edit Note Modal */}\n      <Modal\n        isOpen={!!editingNote}\n        onClose={() => setEditingNote(null)}\n        title=\"Edit Note\"\n        maxWidth=\"lg\"\n      >\n        {editingNote && (\n          <NoteForm\n            note={editingNote}\n            onSubmit={handleUpdateNote}\n            onCancel={() => setEditingNote(null)}\n            isLoading={updateNoteMutation.isLoading}\n          />\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default NotesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}